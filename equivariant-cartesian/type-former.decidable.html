<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>type-former.decidable</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">{-

Fibrancy of closed types with decidable equality.

This construction depends on the tinyness of the interval, more precisely the consequence
that dependent product over a shape commutes with coproducts.

-}</a>
<a id="212" class="Keyword">module</a> <a id="219" href="type-former.decidable.html" class="Module">type-former.decidable</a> <a id="241" class="Keyword">where</a>

<a id="248" class="Keyword">open</a> <a id="253" class="Keyword">import</a> <a id="260" href="basic.html" class="Module">basic</a>
<a id="266" class="Keyword">open</a> <a id="271" class="Keyword">import</a> <a id="278" href="axiom.html" class="Module">axiom</a>
<a id="284" class="Keyword">open</a> <a id="289" class="Keyword">import</a> <a id="296" href="cofibration.html" class="Module">cofibration</a>
<a id="308" class="Keyword">open</a> <a id="313" class="Keyword">import</a> <a id="320" href="fibration.fibration.html" class="Module">fibration.fibration</a>
<a id="340" class="Keyword">open</a> <a id="345" class="Keyword">import</a> <a id="352" href="tiny.preserves-coproduct.html" class="Module">tiny.preserves-coproduct</a>

<a id="378" class="Keyword">private</a> <a id="386" class="Keyword">variable</a>
  <a id="397" href="type-former.decidable.html#397" class="Generalizable">ℓ</a> <a id="399" class="Symbol">:</a> <a id="401" href="Agda.Primitive.html#742" class="Postulate">Level</a>

<a id="408" class="Comment">--↓ Type of decision procedures for a type.</a>

<a id="Decision"></a><a id="453" href="type-former.decidable.html#453" class="Function">Decision</a> <a id="462" class="Symbol">:</a> <a id="464" href="basic.prelude.html#227" class="Primitive">Type</a> <a id="469" href="type-former.decidable.html#397" class="Generalizable">ℓ</a> <a id="471" class="Symbol">→</a> <a id="473" href="basic.prelude.html#227" class="Primitive">Type</a> <a id="478" href="type-former.decidable.html#397" class="Generalizable">ℓ</a>
<a id="480" href="type-former.decidable.html#453" class="Function">Decision</a> <a id="489" href="type-former.decidable.html#489" class="Bound">A</a> <a id="491" class="Symbol">=</a> <a id="493" href="type-former.decidable.html#489" class="Bound">A</a> <a id="495" href="basic.coproduct.html#179" class="Datatype Operator">⊎</a> <a id="497" href="basic.empty.html#389" class="Function Operator">¬</a> <a id="499" href="type-former.decidable.html#489" class="Bound">A</a>

<a id="502" class="Comment">--↓ Fibration structure from a decision procedure for equality.</a>
<a id="566" class="Comment">--↓ The filler for any open box is simply taken to be the box&#39;s cap.</a>

<a id="636" class="Keyword">module</a> <a id="643" href="type-former.decidable.html#643" class="Module">_</a> <a id="645" class="Symbol">{@</a>♭ <a id="649" href="type-former.decidable.html#649" class="Bound">ℓ</a><a id="650" class="Symbol">}</a> <a id="652" class="Symbol">(</a><a id="653" href="type-former.decidable.html#653" class="Bound">A</a> <a id="655" class="Symbol">:</a> <a id="657" href="basic.prelude.html#227" class="Primitive">Type</a> <a id="662" href="type-former.decidable.html#649" class="Bound">ℓ</a><a id="663" class="Symbol">)</a> <a id="665" class="Symbol">(</a><a id="666" href="type-former.decidable.html#666" class="Bound">decEq</a> <a id="672" class="Symbol">:</a> <a id="674" class="Symbol">(</a><a id="675" href="type-former.decidable.html#675" class="Bound">a</a> <a id="677" href="type-former.decidable.html#677" class="Bound">a&#39;</a> <a id="680" class="Symbol">:</a> <a id="682" href="type-former.decidable.html#653" class="Bound">A</a><a id="683" class="Symbol">)</a> <a id="685" class="Symbol">→</a> <a id="687" href="type-former.decidable.html#453" class="Function">Decision</a> <a id="696" class="Symbol">(</a><a id="697" href="type-former.decidable.html#675" class="Bound">a</a> <a id="699" href="basic.prelude.html#239" class="Datatype Operator">≡</a> <a id="701" href="type-former.decidable.html#677" class="Bound">a&#39;</a><a id="703" class="Symbol">))</a> <a id="706" class="Keyword">where</a>

  <a id="715" href="type-former.decidable.html#715" class="Function">DecidableEqFibStr</a> <a id="733" class="Symbol">:</a> <a id="735" href="fibration.fibration.html#7152" class="Record">FibStr</a> <a id="742" class="Symbol">(λ</a> <a id="745" class="Symbol">(</a><a id="746" href="type-former.decidable.html#746" class="Symbol">_</a> <a id="748" class="Symbol">:</a> <a id="750" href="basic.unit.html#79" class="Record">𝟙</a><a id="751" class="Symbol">)</a> <a id="753" class="Symbol">→</a> <a id="755" href="type-former.decidable.html#653" class="Bound">A</a><a id="756" class="Symbol">)</a>
  <a id="760" href="type-former.decidable.html#715" class="Function">DecidableEqFibStr</a> <a id="778" class="Symbol">.</a><a id="779" href="fibration.fibration.html#7300" class="Field">lift</a> <a id="784" href="type-former.decidable.html#784" class="Bound">S</a> <a id="786" href="type-former.decidable.html#786" class="Bound">γ</a> <a id="788" href="type-former.decidable.html#788" class="Bound">r</a> <a id="790" href="type-former.decidable.html#790" class="Bound">box</a> <a id="794" class="Symbol">.</a><a id="795" href="fibration.fibration.html#4400" class="Field">fill</a> <a id="800" href="type-former.decidable.html#800" class="Bound">s</a> <a id="802" class="Symbol">.</a><a id="803" href="cofibration.html#2023" class="Field">out</a> <a id="807" class="Symbol">=</a> <a id="809" href="type-former.decidable.html#790" class="Bound">box</a> <a id="813" class="Symbol">.</a><a id="814" href="fibration.fibration.html#1059" class="Field">cap</a> <a id="818" class="Symbol">.</a><a id="819" href="cofibration.html#2023" class="Field">out</a>
  <a id="825" href="type-former.decidable.html#715" class="Function">DecidableEqFibStr</a> <a id="843" class="Symbol">.</a><a id="844" href="fibration.fibration.html#7300" class="Field">lift</a> <a id="849" href="type-former.decidable.html#849" class="Bound">S</a> <a id="851" href="type-former.decidable.html#851" class="Bound">γ</a> <a id="853" href="type-former.decidable.html#853" class="Bound">r</a> <a id="855" href="type-former.decidable.html#855" class="Bound">box</a> <a id="859" class="Symbol">.</a><a id="860" href="fibration.fibration.html#4400" class="Field">fill</a> <a id="865" href="type-former.decidable.html#865" class="Bound">s</a> <a id="867" class="Symbol">.</a><a id="868" href="cofibration.html#2035" class="Field">out≡</a> <a id="873" href="type-former.decidable.html#873" class="Bound">u</a> <a id="875" class="Symbol">=</a> <a id="877" href="type-former.decidable.html#978" class="Function">lemma</a> <a id="883" href="type-former.decidable.html#906" class="Function">decision</a>
    <a id="896" class="Keyword">where</a>
    <a id="906" href="type-former.decidable.html#906" class="Function">decision</a> <a id="915" class="Symbol">=</a> <a id="917" href="tiny.preserves-coproduct.html#2292" class="Function">shape→⊎</a> <a id="925" href="type-former.decidable.html#849" class="Bound">S</a> <a id="927" class="Symbol">(λ</a> <a id="930" href="type-former.decidable.html#930" class="Bound">i</a> <a id="932" class="Symbol">→</a> <a id="934" href="type-former.decidable.html#666" class="Bound">decEq</a> <a id="940" class="Symbol">(</a><a id="941" href="type-former.decidable.html#855" class="Bound">box</a> <a id="945" class="Symbol">.</a><a id="946" href="fibration.fibration.html#1020" class="Field">tube</a> <a id="951" href="type-former.decidable.html#930" class="Bound">i</a> <a id="953" href="type-former.decidable.html#873" class="Bound">u</a><a id="954" class="Symbol">)</a> <a id="956" class="Symbol">(</a><a id="957" href="type-former.decidable.html#855" class="Bound">box</a> <a id="961" class="Symbol">.</a><a id="962" href="fibration.fibration.html#1059" class="Field">cap</a> <a id="966" class="Symbol">.</a><a id="967" href="cofibration.html#2023" class="Field">out</a><a id="970" class="Symbol">))</a>

    <a id="978" href="type-former.decidable.html#978" class="Function">lemma</a> <a id="984" class="Symbol">:</a> <a id="986" class="Symbol">_</a> <a id="988" href="basic.coproduct.html#179" class="Datatype Operator">⊎</a> <a id="990" class="Symbol">_</a> <a id="992" class="Symbol">→</a> <a id="994" href="type-former.decidable.html#855" class="Bound">box</a> <a id="998" class="Symbol">.</a><a id="999" href="fibration.fibration.html#1020" class="Field">tube</a> <a id="1004" href="type-former.decidable.html#865" class="Bound">s</a> <a id="1006" href="type-former.decidable.html#873" class="Bound">u</a> <a id="1008" href="basic.prelude.html#239" class="Datatype Operator">≡</a> <a id="1010" href="type-former.decidable.html#855" class="Bound">box</a> <a id="1014" class="Symbol">.</a><a id="1015" href="fibration.fibration.html#1059" class="Field">cap</a> <a id="1019" class="Symbol">.</a><a id="1020" href="cofibration.html#2023" class="Field">out</a>
    <a id="1028" href="type-former.decidable.html#978" class="Function">lemma</a> <a id="1034" class="Symbol">(</a><a id="1035" href="basic.coproduct.html#234" class="InductiveConstructor">inl</a> <a id="1039" href="type-former.decidable.html#1039" class="Bound">eq</a><a id="1041" class="Symbol">)</a> <a id="1043" class="Symbol">=</a> <a id="1045" href="type-former.decidable.html#1039" class="Bound">eq</a> <a id="1048" href="type-former.decidable.html#865" class="Bound">s</a>
    <a id="1054" href="type-former.decidable.html#978" class="Function">lemma</a> <a id="1060" class="Symbol">(</a><a id="1061" href="basic.coproduct.html#252" class="InductiveConstructor">inr</a> <a id="1065" href="type-former.decidable.html#1065" class="Bound">neq</a><a id="1068" class="Symbol">)</a> <a id="1070" class="Symbol">=</a> <a id="1072" href="basic.empty.html#325" class="Function">𝟘-rec</a> <a id="1078" class="Symbol">(</a><a id="1079" href="type-former.decidable.html#1065" class="Bound">neq</a> <a id="1083" href="type-former.decidable.html#853" class="Bound">r</a> <a id="1085" class="Symbol">(</a><a id="1086" href="type-former.decidable.html#855" class="Bound">box</a> <a id="1090" class="Symbol">.</a><a id="1091" href="fibration.fibration.html#1059" class="Field">cap</a> <a id="1095" class="Symbol">.</a><a id="1096" href="cofibration.html#2035" class="Field">out≡</a> <a id="1101" href="type-former.decidable.html#873" class="Bound">u</a><a id="1102" class="Symbol">))</a>
  <a id="1107" href="type-former.decidable.html#715" class="Function">DecidableEqFibStr</a> <a id="1125" class="Symbol">.</a><a id="1126" href="fibration.fibration.html#7300" class="Field">lift</a> <a id="1131" class="Symbol">_</a> <a id="1133" class="Symbol">_</a> <a id="1135" class="Symbol">_</a> <a id="1137" class="Symbol">_</a> <a id="1139" class="Symbol">.</a><a id="1140" href="fibration.fibration.html#4456" class="Field">cap≡</a> <a id="1145" class="Symbol">=</a> <a id="1147" href="basic.prelude.html#302" class="InductiveConstructor">refl</a>
  <a id="1154" href="type-former.decidable.html#715" class="Function">DecidableEqFibStr</a> <a id="1172" class="Symbol">.</a><a id="1173" href="fibration.fibration.html#7406" class="Field">vary</a> <a id="1178" class="Symbol">_</a> <a id="1180" class="Symbol">_</a> <a id="1182" class="Symbol">_</a> <a id="1184" class="Symbol">_</a> <a id="1186" class="Symbol">_</a> <a id="1188" class="Symbol">_</a> <a id="1190" class="Symbol">_</a> <a id="1192" class="Symbol">=</a> <a id="1194" href="basic.prelude.html#302" class="InductiveConstructor">refl</a>
</pre></body></html>